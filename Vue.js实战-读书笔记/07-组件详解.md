# 《Vue.js》读书笔记 #


## 第7章  组件详解##
----------
### 7.1 组件与复用 ###
1. 为什么使用组件：
  - 组件是提高重用性，让代码可复用。

2. 组件用法：
- 全局注册：
  ```JavaScript
  Vue.component('my-component',{
    //在组件选项中添加template：
    template:'<div>这里是组件的内容</div>'
  });
  ```

- 局部注册：使用components选项局部注册组件，注册后的组件只有在该实例作用域下有效。

- data使用：
  - 必须是函数，然后将数据return出去。
  - 如果return出的对象引用了外部的一个对象，那这个对象就是共享的，任何一方修改都会同步。如果返回的是一个新的对象，则组件之间互不影响，就可以达到复用的效果。

### 7.2 使用props传递数据 ###
1. 基本用法：
- 父组件正向地向子组件传递数据或参数，子组件接收到后根据参数的不同来渲染不同的内容或执行操作，这个正向传数据的过程就是通过props来实现的。(demo1)

- 使用v-bind动态绑定props的值，当父组件的数据变化时，也会传递给子组件。(demo2)

- 如果直接传递数字、布尔值、数组、对象，且不使用v-bind，则传递的仅仅是字符串。

2. 单向数据流
- 父组件数据变化时会传递给子组件，但反过来不行。

- 两种改变props的方法：
  - 父组件传递初始值进来，子组件将它作为初始值保存起来，在自己的作用域下可以随意使用和修改。这种情况可以在组件data内再声明一个数据，引用父组件的prop。
  - prop作为需要被改变的原始值传入，此时可以使用计算属性。(如加“px")

- 对象和数组是引用类型，指向同一个内存空间，因此props是对象或数组时，子组件的改变也会影响父组件。

3. 数据验证：如某个数据必须是数字类型，如果传入字符串，就会在控制台弹出警告。

### 7.3 组件通信 ###
1. 自定义事件：用于子组件向父组件传递数据。
- 观察者模式：子组件用$emit()里触发事件，父组件用$on()来监听子组件的事件。

-父组件也可以直接在子组件的自定义标签上使用v-on来监听子组件触发的自定义事件。
