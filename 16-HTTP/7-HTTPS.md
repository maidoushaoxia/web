## HTTPS

### 7.1 HTTP缺点

#### 1. 通信未加密

- HTTP报文使用明文方式发送
- 与SSL组合使用的HTTP被称为HTTPS
- HTTP协议通信时，服务器只要接收到请求都会返回响应

- SSL使用了证书，用来证明服务器和客户端是真实存在的
- 无法确认发出的请求/响应和接收到的请求/响应内容是否有修改，MD5等散列值校验的方法也无法完全保证确认结果正确‘

### 2. HTTPS

- HTTP加上加密处理、证书认证以及完整性保护后就是HTTPS

- 通常，HTTP直接和TCP通信，使用了SSL后，则是先和SSL通信，再由SSL和TCP通信
- SSL加密处理方式：采用**公开密钥加密**
  - 对称密钥加密：加密和解密用同一个密钥的方式，只要拿到密钥，任何人都能破解密码
  - 公开密钥加密（非对称密钥）：有私有密钥和公开密钥，发送密文的一方使用对方的公开密钥进行加密，对方收到加密信息后，使用自己的私有密钥进行解密
- HTTPS采用混合加密机制：交换密钥环节使用公开密钥加密方式，之后的建立通信交换报文阶段则使用共享密钥加密方式
- 证书：证明客户端收到的公开密钥是原本的服务器发送的那个
  - 服务器将公开密钥登录至数字证书认证机构
  - 数字证书认证机构用自己的私有密钥向服务器的公开密钥署数字签名，并颁发公钥证书
  - 客户端拿到服务器的公钥证书，使用数字证书认证机构的公开密钥（已经事先植入到浏览器中，因此不需要传输了）验证公钥证书上的数字签名，确认服务器的公开密钥的真实性
  - 客户端使用服务器的公开密钥对报文进行加密处理
  - 服务器使用私有密钥对报文解密
- HTTPS的通信步骤
- SSL处理速度会变慢
  - 通信慢：需要加密和解密
  - 处理速度慢：消耗CPU及内存等资源

