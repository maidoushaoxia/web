# 《深入理解ES6》读书笔记 #


## 第2章  字符串和正则表达式 ##
----------
1. Unicode支持
- codePointAt()方法：接受编码单元的位置而非字符位置作为参数，返回与字符串中给定位置对应的码位，即一个整数值。

- String.fromCodePoint()方法：根据指定的码位生成一个字符。

- normalize()方法：接受一个可选的字符串参数（默认是"NFC"），指明以哪种方法将字符串标准化为同一种形式。

- 正则表达式u修饰符：
  - 当正则表达式添加了u修饰符时，就从编码单元操作模式切换为字符模式，这样正则表达式就不会将代理对视为两个字符。

  - 通过调用match(/[\s\S]/gu)方法检查空白和非空白字符(注：\s匹配空白字符，\S匹配非空白字符，这样就全都检测到了)，匹配到至少一个字符时，返回的数组中包含所有匹配到的字符串，其长度为字符串中码位的数量。

  - 使用RegExp构造函数可以检测当前引擎是否支持u修饰符。
    ```JavaScript
    function hasRegExpU(){
      try{
        var pattern = new RegExp(".","u");
        return true;
      }catch(ex){
        return false;
      }
    }
    ```

2. 其他字符串变更
- 子串识别：以下3个方法都接收两个参数，第一个参数指定要搜索的文本，第二个可选参数指定一个开始搜索的位置的索引值。
  - include()方法：字符串中检测到指定文本返回true，否则返回false；

  - startsWith()方法：在字符串的起始部分检测到指定文本返回true，否则返回false；

  - endsWith()方法：在字符串的结束部分检测到指定文本返回true，否则返回false。
 
  如果指定了第二个参数，则includes()和startsWith()方法从这个索引值的位置开始匹配，endsWith()从这个索引值减去要搜索的文本长度的位置开始正向匹配；
  
  如果没有指定第二个参数，则inclu()和startsWith()方法从字符串起始处开始匹配，endsWith()方法从字符串末尾处开始匹配。

- repeat()方法：接受一个number类型的参数，表示该字符串的重复次数，返回值是当前字符串重复一定次数的新字符串。

3. 其他正则表达式语法变更
- y修饰符：
  - 从正则表达式的lastIndex属性开始进行匹配，如果在指定位置没能成功匹配，则停止继续匹配。
  
  - 当执行操作时，y/g修饰符会把上次匹配后面一个字符的所索引保存在lastIndex中；如果该操作匹配的结果为空，则lastIndex被重置为0。

  - 只有调用exec()和test()等正则方法时才有lastIndex属性，字符串方法没有。

  - 对于y修饰符的正则表达式，如果使用^字符来匹配字符串开端，只会从字符串的起始位置或多行模式的首行进行匹配。

  - 检查y修饰符是否存在：检查sticky属性 => pattern.sticky

  - 同样使用RegExp构造函数来检测当前引擎是否支持y修饰符。

- 正则表达式的复制
  - 可以通过给RegExp构造函数来复制这个正则表达式，第一个参数传递正则表达式，第二个参数可以指定一个修饰符。

- flag属性
  - 与source属性（用来获取正则表达式的文本）一样，是只读的原型属性访问器。通过访问flags属性,会返回所有应用于当前正则表达式的修饰符字符串。

2. 模板字符量
- 基础语法：用反撇号``替代引号。

- 多行字符串：模板字符量中，只需要在字符串中换行，即可实现换行。在反撇号中所有的空白符都属于字符串的一部分。

- 字符串占位符：
  - 表示：${};

  - 可以将JavaScript表达式嵌入到占位符中并将其作为字符串的一部分输出到结果中。

- 标签模板：
  - 标签：指的是模板字面量第一个反撇号前面标注的字符串，

  - 定义标签：标签可以是一个函数，第一个参数是一个数组，包含JavaScript解释过后的字面量字符串（没有被替换的部分，即第一个占位符与第二个占位符之间，第一个元素总是一个空字符串（""），之后的参数是每一个占位符的解释值。
