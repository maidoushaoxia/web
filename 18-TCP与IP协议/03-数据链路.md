## 03-数据链路

### 3.1 数据链路相关技术

1. MAC地址
   - 长48比特
   - 任何一个网卡的MAC地址都是唯一的
2. 共享介质型网络
   - 多个设备共享一个通信介质
   - 采用半双工通信方式
   - 介质访问控制方式：
     - 争用方式（载波监听多路访问CSMA）：各个节点采用先到先得的方式占用信道方式数据，会有冲突
     - 令牌传递方式：沿着令牌环发送一种叫做“令牌”的特殊报文，只有获得令牌的节点才能发送数据

3. 非共享介质网络
   - 每个节点直连交换机，由交换机负责转发数据帧
   - 采用全双工通信方式
4. 根据MAC地址转发
5. 环路检测技术
   - 生成树方式：通过检查网络的结构、机制某些端口的使用来消除环路
   - 源路由法：判断发送数据的源地址是通过哪个网桥实现传输的，并将帧写入RIF，网桥根据RIF信息发送帧给目标地址
6. VLAN：该交换机按照端口区分多个网段

### 3.2 以太网

1. 以太网连接形式：终端与交换机之间独占电缆的方式
2. 以太网帧格式：
   - 前导码由8个8位字节组成，表示一个以太网帧的开始，也是对端网卡能够确保与其同步的标志
   - 本体的前端是以太网的首部，占14字节（6个字节源MAC地址，6个字节源目标MAC地址以及2个字节的上层协议类型）
   - 帧头后面是数据，能容纳46~1500字节数据
   - 帧尾是FCS，4个字节

### 3.3 PPP

1. 定义：指1对1连接计算机的协议，相当于数据链路层

2. 两个协议：

   - LCP协议：不依赖上层，主要负责建立和断开连接

   - NCP协议：依赖上层，负责IP地址设置

3. PPP的帧格式

   - 标识码：在每个帧的前后加上一个8位字节”01111110“来区分帧
   - 两个标识码之间不能出现连续6个以上的1，发送帧时，出现连续5个1时后面必须插入一个0；接收帧时，如果收到连续的5个1且后面跟着的是0，必须删除。

### 3.4 其他数据链路

1. ATM（异步传输模式）：以一个信元（5字节首部加48字节数据）为单位进行传输。
   - 面向连接，允许多个对端建立通信连接
   - 提高了线路的利用率，但是附加了5个字节的首部，增加了网络的开销
   - 每个IP包最多可以被分为192个信元发送出去，只要有一个信元丢失，则所有的信元都要被重新发送
2. FDI（分布式光线数据接口）

### 3.5 公共网络

1. 模拟电话线路
2. 移动通信
3. ADSL
4. VPN

