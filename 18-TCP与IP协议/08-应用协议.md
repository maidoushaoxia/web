## 08-应用协议

### 8.1 应用层协议概要

- TCP/IP应用层包括OSI参考模型的第5、6、7层，包含管理通信连接的会话层功能、转换数据格式的表示层功能，以及与对端主机交互的应用层功能。

### 8.2 远程登录

1. TELNET：利用TCP的一条连接向主机发送文字命令并在主机上执行，无需输入密码
2. SSH：加密的远程登录系统
   - 端口转发：将特定端口号所收到的消息转发到特定的IP地址和端口号码

### 8.3 文件传输FTP

- 工作机制：
  - 使用两条TCP连接，一条用来控制，另一条用于数据（文件）的传输
  - 控制用的连接使用的是TCP21号端口，主要是在FTP的控制部分使用，在这个连接上无法发送数据，数据需要一个专门的 TCP进行连接
- 通过ASCII码字符串进行的交互处理
  - 请求命令用”USER“等ASCII码字符串
  - 应答命令用3位数字的ASCII码字符串

### 8.4 电子邮件SMTP

1. 工作机制：

   - 使用一种一直会连接电源的邮件服务器，发送和接收端通过邮件服务器进行收发邮件，接收端从邮件服务器接收邮件时使用POP3协议

   - 电子邮件由邮件地址、数据格式以及发送协议组成

2. 邮件地址：格式为名称@通信地址
   - 电子邮件的发送地址由DNS进行管理，DNS注册有邮件地址及其作为发送地址时对应的邮件服务器域名，即MX记录，根据MX记录中指定的服务器，可以管理不同邮件地址与特地服务器之间的映射关系
3. MIME：规定了应用消息的格式，相当于第6层表示层
   - 由首部和正文数据组成，若MIMME首部的”Content-Type“中指定”Multipart/Mixed“，并以”boundary=“后面字符作为分隔符，则可以将多个MIME消息组合为一个MIME消息。
4. SMTP：是发送电子邮件的协议，使用TCP的25号端口。
   - SMTP建立一个TCP连接以后，在这个连接上进行控制和应答以及数据的发送
   - SMTP没有验证发送者的功能
   - SMTP支持的是发送端主机的行为，而不是根据接收端的请求发送邮件
5. POP：用于接收电子邮件的协议
   - 发送端的邮件根据SMTP协议被转发给一直处于插电状态的POP服务器，客户端再根据POP协议从POP服务器接收对方发来的邮件
6. IMAP：也是接收电子邮件的协议，由服务器进行管理
   - 可以在不同的计算机上打开邮箱吗，并保持同步

