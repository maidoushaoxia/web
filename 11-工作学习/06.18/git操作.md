## git操作 ##
1. 结构：
                         commit               push
  - 本地：工作目录（开发空间）————————> .git目录下 ————————> 远程仓库
                                          <———————— 
                                              pull     

  - 代码冲突：说明远程仓库和本地同时修改了一个文件。

  - 本地状态：
  - 已修改
  - 已暂存：即存在本地仓库
  - 已提交

2. 基本操作：
  - 初始化：$ git init,相当于建立.git目录。
  
  - 克隆：$ git clone,一般用http地址。

  - 获取：$ git fetch,将远程仓库下载到本地仓库。

  - 变基：$ git rebase, 从本地仓库合并到开发空间；或者用$ git merge，但是这个操作是根据时间插入，会覆盖。

  - 拉取：$ git pull,自动merge。

  - 添加：$ git add,添加要上传的文件。

  - 提交：$ git commit-m "提交信息"，
    - 删除:[-] xxx
    - 添加:[+]xxx
    - 修改:[*]xxx

  - 推送：$ git push，推送失败的原因：
    - 没有权限；
    - 是受保护的分支
    - 代码冲突，即本地代码不是最新的，此时先下载最新代码（fetch+rebase)

  - 有三种状态：
    - 本地修改，远端未修改，此时本地覆盖远端；
    
    - 本地未修改，远端修改，此时远端覆盖本地；

    - 两端都修改了，这时候要解决冲突。

3. git日志与差异
  - 差异：$ git diff,可以看到文件修改的地方。

  - 日志：$ git log，可以看到commit的内容，用来排错，因此commit内容一定要写全。

  - 状态信息：$ git status，显示当前状态（modified等）。未受版本管理状态只有本地有，说明没有add。

  - 撤销：$ git revert,撤销修改的文件

  - 撤回：$ git reset file,从add中撤回。
    - 硬撤销：$ git reset --hard HEAD^，此时会把日志中的也撤回

  - 贮藏：$ git stash，把要修改的文件放在临时暂存区。

  - 弹出贮藏：$ git stash pop:从贮藏去覆盖到本地（栈的操作）。

  - 删除：$ git rm

4. 分支管理：不同模块同时开发，即在不同分支开发。
  - 查看分支：$ git branch

  - 创建分支：$ git branch 新分支名；或者在gitlab上新建（Newbranch）

  - 切换分支：$ git checkout 分支名

  - 合并分支：在当前分支操作$ git merge 某一分支，但是风险较大，会出现代码冲突。

  - .gitignore:本地机器上自动生成的一些文件，将这些文件排除（负责人做）。

5. 代码冲突
  - 原因：merge/rebase/pull

  - 冲突标志：
    - ‘<<<<<<<<’ 与 ======== 之间为本地修改；
    - ‘>>>>>>>>’ 与 ======== 之间为远程修改。

    这些代码就是要解决的。

  - 解决方法：edit：左边是远端代码，右边是当前本地代码，下边是要解决代码。
    - 解决后，要保存并标记冲突，然后commit。

6. gitFlow:不同的分支
  - master：主分支，用来发布
  - develop：开发分支
  - feature：功能分支
  
