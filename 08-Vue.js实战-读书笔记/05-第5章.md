# 《Vue.js》读书笔记 #


## 第5章  内置指令##
----------
### 5.1 基本指令 ###
1. v-cloak:
- 会在Vue实例结束编译时从绑定的HTML元素上移除,与CSS的`display:none;`配合使用.

- 可以解决初始化慢导致页面闪动的问题.

2. v-once:
- 定义它的元素或组件只渲染一次,包括元素或组件的所有子节点.首次渲染后,不在随数据的变化重新渲染,将它视为静态内容.

### 5.2 条件渲染指令 ###
1. v-if、v-else-if、v-else
- 表达式的值为真时,当前元素或组件及所有自己点江北渲染,为假时被移除.

- Vue在渲染元素时,会尽可能复用已有的元素而非重新渲染.(第二个`<input>`元素输入框内容不会改变的原因)

- 如果不想复用元素,可以使用key属性,此属性必须唯一.

2. v-show
- 用来改变元素的CSS属性display.

- 当v-show表达式的值为false时,元素会隐藏,查看DOM结构会看到元素上加载了内联样式`display:none;`

3. 选择
- v-if是真正的条件渲染,会根据表达式适当的销毁或重建元素及绑定的事件或子组件.只有条件第一次为真时才会被编译.

- v-show只是简单的CSS属性切换,无论条件真与否,都会被编译.

### 5.3 列表渲染指令v-for ###
1. 基本用法
- 用于将一个数组遍历或枚举一个对象循环显示时.表达式结合in使用.

- 支持一个参数作为当前项的索引.

- 将v-for用在内置标签`<template>`上,可以将多个元素进行渲染.

- 遍历对象属性时,可以选择参数value(值),index(索引)和键名(key).

2. 数组更新
- 改变原数组的方法:
  - push()
  - pop()
  - shift()
  - unshift()
  - splice()
  - sort()
  - reverse()

- 不改变原数组的方法:
  - filter()
  - concat()
  - slice()

  此时可以用新数组代替旧数组.

- 不会触发视图更新的方法:
  - 通过索引直接设置项:`app.books[3]={...}`
  - 修改数组长度: `app.books.length=1`

  解决方法:
    - 使用Vue内置的set方法添加项.
    - 使用splice方法添加项或修改数组长度.

3. 过滤与排序
- 当不想改变原数组时,可以使用计算属性来返回过滤或排序后的数组.

- 计算属性依赖数组,但是不会修改数组.

### 5.4 方法与事件 ###
1. 基本用法
- `@click`调用的方法后可以不跟括号"()".此时若该方法有参数,默认会将原生事件对象event传入(如鼠标点击事件`MouseEvent`).

- 在HTML元素上监听元素,通过HTML就可以知道调用的是哪个方法 ,将逻辑与DOM解耦,便于维护.

- 当ViewModel销毁时,所有的事件处理器自动删除. 

- Vue的特殊变量`$event`可以用于访问原生DOM事件.如阻止默认行为等.

2. 修饰符
- 在@绑定的事件后加小圆点".",再跟一个后缀来使用修饰符.
